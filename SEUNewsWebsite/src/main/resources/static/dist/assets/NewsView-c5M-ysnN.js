import{d as E,c as A,f as k,q as z,e as d,_ as D,r as g,s as j,v as T,x as H,y as K,b as l,F as G,g as L,z as U,n as y,A as Y,t as h,o as X,i,w as u,h as v,p as b,B as Z,C as q,D as $,m as tt}from"./index-CUMlhCnO.js";import{a as et}from"./news-DBmEFlcx.js";const at={key:0,class:"loading-mask"},ot=E({__name:"LoadingComponent",props:{loading:{type:Boolean}},setup(w){return(C,f)=>C.loading?(d(),A("div",at,f[0]||(f[0]=[z('<div class="loading-content" data-v-e4fde40a><div class="loading-svg" data-v-e4fde40a><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" data-v-e4fde40a><circle cx="50" cy="50" r="40" fill="none" stroke="#ffffff" stroke-width="8" data-v-e4fde40a><animate attributeName="stroke-dasharray" from="0 251.327" to="251.327 251.327" dur="1.5s" repeatCount="indefinite" data-v-e4fde40a></animate><animate attributeName="stroke-dashoffset" from="0" to="-251.327" dur="1.5s" repeatCount="indefinite" data-v-e4fde40a></animate></circle></svg></div><div class="loading-text" data-v-e4fde40a> 加载中 <span class="dot" data-v-e4fde40a>.</span><span class="dot" data-v-e4fde40a>.</span><span class="dot" data-v-e4fde40a>.</span></div></div>',1)]))):k("",!0)}}),st=D(ot,[["__scopeId","data-v-e4fde40a"]]),nt="data:image/png;base64,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",it="/assets/share-B4yvxoPc.png",lt={class:"cyber-interaction"},ct={class:"icon-group"},rt=["onClick"],dt={class:"icon-frame"},ut=["src"],At={class:"data-display"},vt=E({__name:"NewsInteractionBar",setup(w){const C={template:`
        <img :src="likeImage" alt="点赞图标" />
    `,setup(){return{likeImage:nt}}},f={template:`
        <img :src="shareImage" alt="转发图标" />
    `,setup(){return{shareImage:it}}},o=g({likes:1098,idlike:!1,coins:999999999,isCoin:!1,star:999999999,isStar:!1,forwards:99999999}),s=g({likes:"",coins:"",star:"",forwards:""}),m=t=>{if(t===0)return 0;if(t>=1e9){const r=Math.floor(t/1e8)/10,a=t/1e9;return(a%1===0&&t%1e9===0?a.toFixed(0):r.toFixed(1))+"B"}else if(t>=1e6){const r=Math.floor(t/1e5)/10,a=t/1e6;return(a%1===0&&t%1e6===0?a.toFixed(0):r.toFixed(1))+"M"}else if(t>=1e3){const r=Math.floor(t/100)/10,a=t/1e3;return(a%1===0&&t%1e3===0?a.toFixed(0):r.toFixed(1))+"K"}return t},_=()=>{for(const t in o.value)typeof o.value[t]=="number"&&(s.value[t]=String(m(o.value[t])))},c=t=>{let r=typeof o.value[t]=="number"?o.value[t]:parseFloat(s.value[t].slice(0,-1))*(s.value[t].endsWith("K")?1e3:s.value[t].endsWith("M")?1e6:s.value[t].endsWith("B")?1e9:1);r++,o.value[t]=r,s.value[t]=String(m(r))},I=j(()=>[{icon:C,text:"量子点赞赋能",count:s.value.likes,action:()=>c("likes"),activeClass:"pulse-active"},{icon:T,text:"能量币投送",count:s.value.coins,action:()=>c("coins"),activeClass:"coin-active"},{icon:H,text:o.value.isStar?"数据已归档":"核心数据收藏",count:s.value.star,action:()=>c("star"),activeClass:"storage-active"},{icon:f,text:"超维信息转发",count:s.value.forwards,action:()=>c("forwards"),activeClass:"forward-active"},{icon:K,text:"上报问题",action:()=>console.log("启动自检程序"),activeClass:"diagnose-active"}]);return _(),(t,r)=>(d(),A("div",lt,[l("div",ct,[(d(!0),A(G,null,L(I.value,(a,p)=>(d(),A("div",{key:p,class:U(a.activeClass),onClick:a.action},[l("span",dt,[typeof a.icon=="object"&&a.icon.template?(d(),A("img",{key:0,src:a.icon.setup().likeImage||a.icon.setup().shareImage,alt:"图标",class:"neon-icon"},null,8,ut)):(d(),y(Y(a.icon),{key:1,class:"neon-icon"}))]),l("span",At,h(a.count),1)],10,rt))),128))])]))}}),gt=D(vt,[["__scopeId","data-v-47898575"]]),ft={class:"news-view"},pt={key:0,class:"status-container"},Ct={key:1,class:"status-container empty-state"},mt={key:2,class:"article-container"},It={class:"article-header"},ht={class:"article-title"},_t={class:"meta-container"},Bt={class:"author-info"},Qt={class:"author-details"},kt={class:"author-name"},Et={class:"publish-info"},Dt={class:"publish-date"},wt={key:0,class:"update-indicator"},xt={class:"toolbar"},St=["innerHTML"],Vt=E({__name:"NewsView",setup(w){const C=tt(),f=$(),o=g(null),s=g(!0),m=g(""),_=g(""),c=g(20),I=g(null),t=j(()=>{var e,n;return((e=o.value)==null?void 0:e.publishDate)!==((n=o.value)==null?void 0:n.updateDate)}),r=e=>q(e).isValid()?q(e).format("YYYY-MM-DD HH:mm"):"未知时间",a=e=>{c.value=Math.min(44,Math.max(10,c.value+e))},p=e=>{m.value="内容加载失败",_.value=e.message||"请检查网络连接",C.push("/ErrorState")},F=async()=>{try{s.value=!0,m.value="",_.value="";const e=await et(Number(f.params.id));o.value={...e==null?void 0:e.data,content:e==null?void 0:e.data.content.replace(/\n/g,"<br>"),publishDate:new Date(e==null?void 0:e.data.publishDate).toISOString(),updateDate:new Date(e==null?void 0:e.data.updateDate).toISOString()},I.value=e==null?void 0:e.data}catch(e){p(e)}finally{s.value=!1}};return X(async()=>{window.scrollTo(0,0),await F()}),(e,n)=>{var x,S;const M=v("DocumentDelete"),Q=v("el-icon"),B=v("el-button"),N=v("router-link"),R=v("el-avatar"),W=v("Remove"),P=v("el-tooltip"),J=v("CirclePlus"),O=v("el-button-group");return d(),A("div",ft,[s.value?(d(),A("div",pt,[i(st,{loading:s.value},null,8,["loading"])])):o.value?(d(),A("article",mt,[l("header",It,[l("h1",ht,h(o.value.title),1),l("div",_t,[l("div",Bt,[(x=I.value)!=null&&x.avatar?(d(),y(R,{key:0,size:45,src:(S=I.value)==null?void 0:S.avatar,class:"author-avatar"},null,8,["src"])):k("",!0),l("div",Qt,[l("div",kt,h(o.value.author),1),l("div",Et,[l("time",Dt,h(r(o.value.publishDate)),1),t.value?(d(),A("span",wt," （已更新） ")):k("",!0)])])]),l("div",xt,[i(O,{class:"font-controls"},{default:u(()=>[i(B,{disabled:c.value<=10,onClick:n[0]||(n[0]=V=>a(-2)),class:"font-btn"},{default:u(()=>[i(Q,null,{default:u(()=>[i(W)]),_:1})]),_:1},8,["disabled"]),i(P,{effect:"light",content:"重置字体大小",placement:"top"},{default:u(()=>[i(B,{class:"font-reset",onClick:n[1]||(n[1]=V=>c.value=20)},{default:u(()=>[b(h(c.value)+"px ",1)]),_:1})]),_:1}),i(B,{disabled:c.value>=44,onClick:n[2]||(n[2]=V=>a(2)),class:"font-btn"},{default:u(()=>[i(Q,null,{default:u(()=>[i(J)]),_:1})]),_:1},8,["disabled"])]),_:1})])])]),l("section",{class:"article-content ql-editor",style:Z({fontSize:c.value+"px"}),innerHTML:o.value.content},null,12,St),i(gt)])):(d(),A("div",Ct,[i(Q,{class:"empty-icon"},{default:u(()=>[i(M)]),_:1}),n[4]||(n[4]=l("h3",{class:"status-title"},"暂无文章内容",-1)),n[5]||(n[5]=l("p",{class:"status-desc"},"推荐阅读其他新闻资讯",-1)),i(N,{to:"/news",class:"link-btn"},{default:u(()=>[i(B,{type:"success"},{default:u(()=>n[3]||(n[3]=[b("浏览新闻列表")])),_:1})]),_:1})]))])}}}),jt=D(Vt,[["__scopeId","data-v-42e7fd06"]]);export{jt as default};
